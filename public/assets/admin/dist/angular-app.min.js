!function(){"use strict";function t(t,e){e.otherwise("/dashboard"),t.state("login",{url:"/login",templateUrl:viewsUrl+"auth/login.template.html",controller:"AuthController",controllerAs:"vm"}).state("dashboard",{url:"/dashboard",templateUrl:viewsUrl+"dashboard/dashboard.template.html",controller:"DashboardController",controllerAs:"vm"}).state("pages",{url:"/pages",templateUrl:viewsUrl+"pages/pages.template.html",controller:"PagesController",controllerAs:"vm"}).state("pageDetails",{url:"/pages/{id:[0-9]*}/{lang:[0-9]*}",templateUrl:viewsUrl+"pages/page-details.template.html",controller:"PageDetailsController",controllerAs:"vm"})}function e(t,e,n,a,i){i.defineSettings(),t.globals=n.get("globals")||{},t.globals.currentUser&&(a.defaults.headers.common.Authorization="Basic "+t.globals.currentUser.authData,t.settings.layout.isLogin=!1),t.$on("$locationChangeStart",function(n,a,i){var o=-1===$.inArray(e.path(),["/login","/register"]),r=t.globals.currentUser;o&&!r&&e.path("/login")}),t.$on("$stateChangeSuccess",function(){t.settings.layout.loading=!1,Layout.setSidebarMenuActiveLink("match")}),t.toggleLoadingState=function(){t.settings.layout.loading=!t.settings.layout.loading},t.showLoadingState=function(){t.settings.layout.loading=!0},t.hideLoadingState=function(){t.settings.layout.loading=!1}}angular.module("app",[]),angular.module("adminApp",["ui.router","ngCookies","ngResource","app","ngMessages","ui.bootstrap","ngSanitize"]).config(t).run(e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["$rootScope","$location","$cookieStore","$http","SettingsFactory"]}(),function(){"use strict";function t(t,e,n,a){function i(){e.showLoadingState(),a.login(r.email,r.password,function(t){a.setCredentials(r.email,r.password),n.path("/")},function(t){e.hideLoadingState(),r.error=t.error})}function o(t){switch(t=t||"login"){case"login":e.pageTitle="Sign in",e.bodyClass="page page-auth page-login";break;case"register":e.pageTitle="Register",e.bodyClass="page page-auth page-register";break;case"forget-password":e.pageTitle="Sign in",e.bodyClass="page page-auth page-forgot-password"}r.currentForm=t}var r=this;r.login=i,r.showForm=o,r.currentForm="login",function(){a.clearCredentials(),e.pageTitle="Sign in",e.bodyClass="page page-auth page-login",t.$on("$viewContentLoaded",function(){App.initAjax()})}()}angular.module("app").controller("AuthController",t),t.$inject=["$scope","$rootScope","$location","AuthenticationService"]}(),function(){"use strict";function t(t){function e(){t.bodyClass="page page-dashboard",t.pageTitle="Dashboard"}!function(){e()}()}angular.module("app").controller("DashboardController",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initFooter()})}!function(){e()}()}angular.module("app").controller("FooterController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initHeader()})}!function(){e()}()}angular.module("app").controller("HeaderController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initSidebar()})}!function(){e()}()}angular.module("app").controller("SidebarController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,n,a,i){function o(){t.bodyClass="page page-page-edit",t.pageTitle="Edit page",t.showLoadingState(),r(function(){t.hideLoadingState()},function(){t.hideLoadingState()})}function r(t,e){n.get(u.pageId,u.langId,function(e){u.currentObj=e.data.data,t&&t()},function(t){e&&e()})}function l(){t.showLoadingState(),n.update(u.pageId,u.langId,u.currentObj,function(e){r(function(){t.hideLoadingState()},function(){t.hideLoadingState()})},function(e){t.hideLoadingState()})}function s(){setTimeout(function(){return a.go("pageDetails",{id:u.pageId,lang:u.langId})},100)}var u=this;u.updatePageContent=l,u.changeLanguage=s,u.pageId=parseInt(i.id),u.langId=parseInt(i.lang),u.currentObj=null,function(){o(),e.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PageDetailsController",t),t.$inject=["$rootScope","$scope","PageService","$state","$stateParams"]}(),function(){"use strict";function t(t,e,n){function a(){t.bodyClass="page page-pages",t.pageTitle="Pages",i()}function i(){n.getAll(function(t){r.pages=t.data.data.data},function(t){})}function o(t){switch(t){case 0:return'<span class="label label-default">disabled</span>';case 1:return'<span class="label label-success">activated</span>';default:return'<span class="label label-default">disabled</span>'}}var r=this;r.getStatus=o,function(){a(),e.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PagesController",t),t.$inject=["$rootScope","$scope","PageService"]}(),function(){"use strict";function t(){return{restrict:"E",link:function(t,e,n){(n.ngClick||""===n.href||"#"===n.href)&&e.on("click",function(t){t.preventDefault()})}}}angular.module("app").directive("a",t)}(),function(){"use strict";function t(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,a){function i(){if(r.length){var t=r.splice(0,1);l.setData(t[0]||"<span></span>",function(){i(),o=!0})}}var o=!1,r=[],l=CKEDITOR.replace(e[0]);l.on("instanceReady",function(t){a&&i()}),e.bind("$destroy",function(){l.destroy(!1)}),a&&(l.on("change",function(){t.$apply(function(){var t=l.getData();"<span></span>"==t&&(t=null),a.$setViewValue(t)})}),a.$render=function(t){void 0===a.$viewValue&&(a.$setViewValue(null),a.$viewValue=null),r.push(a.$viewValue),o&&(o=!1,i())})}}}function e(){}angular.module("app").directive("ckeditor",t),e.$inject=[]}(),function(){"use strict";function t(){return{restrict:"EA",require:"?ngModel",scope:{drClass:"@",drName:"@",drLabel:"@",drChange:"&",bindModel:"=ngModel"},templateUrl:templatesUrl+"directives/language-list.directive.html",controller:e,controllerAs:"dr",link:function(t,e,n,a){}}}function e(t,e){function n(){e.getAll(function(t){a.languages=t.data.data},function(t){a.languages=[]})}var a=this;a.languages=[],function(){n()}()}angular.module("app").directive("languageList",t),e.$inject=["$scope","LanguageService"]}(),function(){"use strict";function t(){return{restrict:"EA",require:"?ngModel",scope:{drTitle:"@",drButtonTitle:"@",bindModel:"=ngModel"},templateUrl:templatesUrl+"directives/media-box.directive.html",controller:e,controllerAs:"dr",link:function(t,e,n,a){}}}function e(t,e,n){function a(a){a||(s.sub=[]),t.showLoadingState(),s.files=[],n.getFiles(a,function(n){s.files=n.data,t.hideLoadingState(),setTimeout(function(){e.find(".modal").modal("show")},100)},function(e){s.files=[],t.hideLoadingState()})}function i(t){var e="/theme/admin/images/folder.jpg";if(!t.is_dir){var n="/";s.sub.length>0&&(n+=s.sub.join("/")+"/"),e="/uploads"+n+t.name}return e}function o(t){var e="Folder: "+t.name;return t.is_dir||(e=t.name),e}function r(t){if(t.is_dir){s.sub.push(t.name);var e="";return s.sub.length>0&&(e+=s.sub.join("/")+""),a(e)}return t.active?t.active=!1:t.active=!0}function l(){s.sub.splice(-1,1);var t="";return s.sub.length>0&&(t+=s.sub.join("/")+""),a(t)}var s=this;s.getFiles=a,s.getItemThumbnail=i,s.getItemTitle=o,s.toggleActive=r,s.upToParentFolder=l,s.files=[],s.sub=[]}angular.module("app").directive("mediaBox",t),e.$inject=["$rootScope","$element","FileService"]}(),function(){"use strict";function t(t){return{restrict:"EA",template:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>',link:function(e,n,a){t.$on("$stateChangeStart",function(){t.settings.layout.loading=!0}),t.$on("$stateChangeSuccess",function(){t.settings.layout.loading=!1,App.scrollTop()}),t.$on("$stateNotFound",function(){t.settings.layout.loading=!1}),t.$on("$stateChangeError",function(){t.settings.layout.loading=!1})}}}angular.module("app").directive("spinnerBar",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(){var e={layout:{loading:!0,isLogin:!0},url:{baseUrl:baseUrl,assetsUrl:assetsUrl,templatesUrl:templatesUrl,viewsUrl:viewsUrl,baseApi:baseApi}};t.settings=e}var n={};return n.defineSettings=e,n}angular.module("app").factory("SettingsFactory",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(e,n,a){return e||(e=null),t.post(baseApi+"files",{sub:e}).then(n,a)}var n={};return n.getFiles=e,n}angular.module("app").factory("FileService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"languages").then(e,n)}var n={};return n.getAll=e,n}angular.module("app").factory("LanguageService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"pages").then(e,n)}function n(e,n,a,i){return t.get(baseApi+"pages/details/"+e+"/"+n).then(a,i)}function a(e,n,a,i,o){return t.post(baseApi+"pages/edit/"+e+"/"+n,a).then(i,o)}var i={};return i.getAll=e,i.get=n,i.update=a,i}angular.module("app").factory("PageService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"settings").then(e,n)}var n={};return n.getAll=e,n}angular.module("app").factory("SettingService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"users").then(e,n)}function n(e,n,a,i){return t.post(baseApi+"users/authenticate",{email:e,password:n}).then(a,i)}var a={};return a.getAll=e,a.authUser=n,a}angular.module("app").factory("UserService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,n,a,i){function o(t,e,n,a){return i.authUser(t,e,n,a)}function r(i,o){var r=e.encode(i+":"+o);a.globals={currentUser:{email:i,authData:r}},t.defaults.headers.common.Authorization="Basic "+r,n.put("globals",a.globals),a.settings.layout.isLogin=!1}function l(){a.globals={},n.remove("globals"),t.defaults.headers.common.Authorization="Basic",a.settings.layout.isLogin=!0}var s={};return s.login=o,s.setCredentials=r,s.clearCredentials=l,s}angular.module("app").factory("AuthenticationService",t),t.$inject=["$http","$cookieStore","$rootScope","UserService"];var e={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,a,i,o,r="",l="",s="",u=0;do e=t.charCodeAt(u++),n=t.charCodeAt(u++),l=t.charCodeAt(u++),a=e>>2,i=(3&e)<<4|n>>4,o=(15&n)<<2|l>>6,s=63&l,isNaN(n)?o=s=64:isNaN(l)&&(s=64),r=r+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(o)+this.keyStr.charAt(s),e=n=l="",a=i=o=s="";while(u<t.length);return r},decode:function(t){var e,n,a,i,o,r="",l="",s="",u=0,c=/[^A-Za-z0-9\+\/\=]/g;c.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do a=this.keyStr.indexOf(t.charAt(u++)),i=this.keyStr.indexOf(t.charAt(u++)),o=this.keyStr.indexOf(t.charAt(u++)),s=this.keyStr.indexOf(t.charAt(u++)),e=a<<2|i>>4,n=(15&i)<<4|o>>2,l=(3&o)<<6|s,r+=String.fromCharCode(e),64!=o&&(r+=String.fromCharCode(n)),64!=s&&(r+=String.fromCharCode(l)),e=n=l="",a=i=o=s="";while(u<t.length);return r}}}();