!function(){"use strict";function t(t,e){e.otherwise("/dashboard"),t.state("login",{url:"/login",templateUrl:viewsUrl+"auth/login.template.html",controller:"AuthController",controllerAs:"vm"}).state("dashboard",{url:"/dashboard",templateUrl:viewsUrl+"dashboard/dashboard.template.html",controller:"DashboardController",controllerAs:"vm"}).state("pages",{url:"/pages",templateUrl:viewsUrl+"pages/pages.template.html",controller:"PagesController",controllerAs:"vm"}).state("pagesDetails",{url:"/pages/{id:[0-9]*}/{lang:[0-9]*}",templateUrl:viewsUrl+"pages/page-details.template.html",controller:"PageDetailsController",controllerAs:"vm"})}function e(t,e,n,a,o){o.defineSettings(),t.globals=n.get("globals")||{},t.globals.currentUser&&(a.defaults.headers.common.Authorization="Basic "+t.globals.currentUser.authData,t.settings.layout.isLogin=!1),t.$on("$locationChangeStart",function(n,a,o){var i=-1===$.inArray(e.path(),["/login","/register"]),r=t.globals.currentUser;i&&!r&&e.path("/login")}),t.$on("$stateChangeSuccess",function(){t.settings.layout.loading=!1,Layout.setSidebarMenuActiveLink("match")}),t.toggleLoadingState=function(){t.settings.layout.loading=!t.settings.layout.loading},t.showLoadingState=function(){t.settings.layout.loading=!0},t.hideLoadingState=function(){t.settings.layout.loading=!1}}angular.module("app",[]),angular.module("adminApp",["ui.router","ngCookies","ngResource","app","ngMessages","ui.bootstrap","ngSanitize"]).config(t).run(e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["$rootScope","$location","$cookieStore","$http","SettingsFactory"]}(),function(){"use strict";function t(t,e,n,a){function o(){e.showLoadingState(),a.login(r.email,r.password,function(t){a.setCredentials(r.email,r.password),n.path("/")},function(t){e.hideLoadingState(),r.error=t.error})}function i(t){switch(t=t||"login"){case"login":e.pageTitle="Sign in",e.bodyClass="page page-auth page-login";break;case"register":e.pageTitle="Register",e.bodyClass="page page-auth page-register";break;case"forget-password":e.pageTitle="Sign in",e.bodyClass="page page-auth page-forgot-password"}r.currentForm=t}var r=this;r.login=o,r.showForm=i,r.currentForm="login",function(){a.clearCredentials(),e.pageTitle="Sign in",e.bodyClass="page page-auth page-login",t.$on("$viewContentLoaded",function(){App.initAjax()})}()}angular.module("app").controller("AuthController",t),t.$inject=["$scope","$rootScope","$location","AuthenticationService"]}(),function(){"use strict";function t(t){function e(){t.bodyClass="page page-dashboard",t.pageTitle="Dashboard"}!function(){e()}()}angular.module("app").controller("DashboardController",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initFooter()})}!function(){e()}()}angular.module("app").controller("FooterController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initHeader()})}!function(){e()}()}angular.module("app").controller("HeaderController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){function e(){t.$on("$includeContentLoaded",function(){Layout.initSidebar()})}!function(){e()}()}angular.module("app").controller("SidebarController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,n,a){function o(){t.bodyClass="page page-page-edit",t.pageTitle="Edit page",i()}function i(){n.get(l.pageId,l.langId,function(e){l.currentObj=e.data.data,t.pageTitle+=" - "+l.currentObj.global_title},function(t){})}function r(){n.update(l.pageId,l.langId,l.currentObj,function(t){},function(t){})}var l=this;l.updatePage=r,l.pageId=a.id,l.langId=a.lang,l.currentObj=null,function(){o(),e.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PageDetailsController",t),t.$inject=["$rootScope","$scope","PageService","$stateParams"]}(),function(){"use strict";function t(t,e,n){function a(){t.bodyClass="page page-pages",t.pageTitle="Pages",o()}function o(){n.getAll(function(t){r.pages=t.data.data.data},function(t){})}function i(t){switch(t){case 0:return'<span class="label label-default">disabled</span>';case 1:return'<span class="label label-success">activated</span>';default:return'<span class="label label-default">disabled</span>'}}var r=this;r.getStatus=i,function(){a(),e.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PagesController",t),t.$inject=["$rootScope","$scope","PageService"]}(),function(){"use strict";function t(){return{restrict:"E",link:function(t,e,n){(n.ngClick||""===n.href||"#"===n.href)&&e.on("click",function(t){t.preventDefault()})}}}angular.module("app").directive("a",t)}(),function(){"use strict";function t(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,a){function o(){if(r.length){var t=r.splice(0,1);l.setData(t[0]||"<span></span>",function(){o(),i=!0})}}var i=!1,r=[],l=CKEDITOR.replace(e[0]);l.on("instanceReady",function(t){a&&o()}),e.bind("$destroy",function(){l.destroy(!1)}),a&&(l.on("change",function(){t.$apply(function(){var t=l.getData();"<span></span>"==t&&(t=null),a.$setViewValue(t)})}),a.$render=function(t){void 0===a.$viewValue&&(a.$setViewValue(null),a.$viewValue=null),r.push(a.$viewValue),i&&(i=!1,o())})}}}function e(){}angular.module("app").directive("ckeditor",t),e.$inject=[]}(),function(){"use strict";function t(){return{restrict:"EA",scope:{drClass:"@",drName:"@",drLabel:"@",bindModel:"=ngModel"},templateUrl:templatesUrl+"directives/language-list.directive.html",controller:e,controllerAs:"dr",link:function(t,e,n,a){}}}function e(t){function e(){t.getAll(function(t){n.languages=t.data.data},function(t){n.languages=[]})}var n=this;n.languages=[],function(){e()}()}angular.module("app").directive("languageList",t),e.$inject=["LanguageService"]}(),function(){"use strict";function t(t){return{restrict:"EA",template:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>',link:function(e,n,a){t.$on("$stateChangeStart",function(){t.settings.layout.loading=!0}),t.$on("$stateChangeSuccess",function(){t.settings.layout.loading=!1,App.scrollTop()}),t.$on("$stateNotFound",function(){t.settings.layout.loading=!1}),t.$on("$stateChangeError",function(){t.settings.layout.loading=!1})}}}angular.module("app").directive("spinnerBar",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(){var e={layout:{loading:!0,isLogin:!0},url:{baseUrl:baseUrl,assetsUrl:assetsUrl,templatesUrl:templatesUrl,viewsUrl:viewsUrl,baseApi:baseApi}};t.settings=e}var n={};return n.defineSettings=e,n}angular.module("app").factory("SettingsFactory",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"languages").then(e,n)}var n={};return n.getAll=e,n}angular.module("app").factory("LanguageService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"pages").then(e,n)}function n(e,n,a,o){return t.get(baseApi+"pages/"+e+"/"+n).then(a,o)}function a(e,n,a,o,i){return t.post(baseApi+"pages/"+e+"/"+n,a).then(o,i)}var o={};return o.getAll=e,o.get=n,o.update=a,o}angular.module("app").factory("PageService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"settings").then(e,n)}var n={};return n.getAll=e,n}angular.module("app").factory("SettingService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e,n){return t.get(baseApi+"users").then(e,n)}function n(e,n,a,o){return t.post(baseApi+"users/authenticate",{email:e,password:n}).then(a,o)}var a={};return a.getAll=e,a.authUser=n,a}angular.module("app").factory("UserService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,n,a,o){function i(t,e,n,a){return o.authUser(t,e,n,a)}function r(o,i){var r=e.encode(o+":"+i);a.globals={currentUser:{email:o,authData:r}},t.defaults.headers.common.Authorization="Basic "+r,n.put("globals",a.globals),a.settings.layout.isLogin=!1}function l(){a.globals={},n.remove("globals"),t.defaults.headers.common.Authorization="Basic",a.settings.layout.isLogin=!0}var s={};return s.login=i,s.setCredentials=r,s.clearCredentials=l,s}angular.module("app").factory("AuthenticationService",t),t.$inject=["$http","$cookieStore","$rootScope","UserService"];var e={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,a,o,i,r="",l="",s="",c=0;do e=t.charCodeAt(c++),n=t.charCodeAt(c++),l=t.charCodeAt(c++),a=e>>2,o=(3&e)<<4|n>>4,i=(15&n)<<2|l>>6,s=63&l,isNaN(n)?i=s=64:isNaN(l)&&(s=64),r=r+this.keyStr.charAt(a)+this.keyStr.charAt(o)+this.keyStr.charAt(i)+this.keyStr.charAt(s),e=n=l="",a=o=i=s="";while(c<t.length);return r},decode:function(t){var e,n,a,o,i,r="",l="",s="",c=0,u=/[^A-Za-z0-9\+\/\=]/g;u.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do a=this.keyStr.indexOf(t.charAt(c++)),o=this.keyStr.indexOf(t.charAt(c++)),i=this.keyStr.indexOf(t.charAt(c++)),s=this.keyStr.indexOf(t.charAt(c++)),e=a<<2|o>>4,n=(15&o)<<4|i>>2,l=(3&i)<<6|s,r+=String.fromCharCode(e),64!=i&&(r+=String.fromCharCode(n)),64!=s&&(r+=String.fromCharCode(l)),e=n=l="",a=o=i=s="";while(c<t.length);return r}}}();