!function(){"use strict";function e(e,t){t.otherwise("/dashboard"),e.state("login",{url:"/login",templateUrl:viewsUrl+"auth/login.template.html",controller:"AuthController",controllerAs:"vm"}).state("dashboard",{url:"/dashboard",templateUrl:viewsUrl+"dashboard/dashboard.template.html",controller:"DashboardController",controllerAs:"vm"}).state("pages",{url:"/pages",templateUrl:viewsUrl+"pages/pages.template.html",controller:"PagesController",controllerAs:"vm"}).state("pageDetails",{url:"/pages/{id:[0-9]*}/{lang:[0-9]*}",templateUrl:viewsUrl+"pages/page-details.template.html",controller:"PageDetailsController",controllerAs:"vm"})}function t(e,t,n,a,i){i.defineSettings(),e.globals=n.get("globals")||{},e.globals.currentUser&&(a.defaults.headers.common.Authorization="Basic "+e.globals.currentUser.authData,e.settings.layout.isLogin=!1),e.$on("$locationChangeStart",function(n,a,i){var o=-1===$.inArray(t.path(),["/login","/register"]),r=e.globals.currentUser;o&&!r&&t.path("/login")}),e.$on("$stateChangeSuccess",function(){e.settings.layout.loading=!1,Layout.setSidebarMenuActiveLink("match")}),e.toggleLoadingState=function(){e.settings.layout.loading=!e.settings.layout.loading},e.showLoadingState=function(){e.settings.layout.loading=!0},e.hideLoadingState=function(){e.settings.layout.loading=!1}}angular.module("app",[]),angular.module("adminApp",["app","ui.router","ngCookies","ngResource","ngMessages","ui.bootstrap","ngSanitize","mwl.confirm"]).config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["$rootScope","$location","$cookieStore","$http","SettingsFactory"]}(),function(){"use strict";function e(e,t,n,a){function i(){t.showLoadingState(),a.login(r.email,r.password,function(e){a.setCredentials(r.email,r.password),n.path("/")},function(e){t.hideLoadingState(),r.error=e.error})}function o(e){switch(e=e||"login"){case"login":t.pageTitle="Sign in",t.bodyClass="page page-auth page-login";break;case"register":t.pageTitle="Register",t.bodyClass="page page-auth page-register";break;case"forget-password":t.pageTitle="Sign in",t.bodyClass="page page-auth page-forgot-password"}r.currentForm=e}var r=this;r.login=i,r.showForm=o,r.currentForm="login",function(){a.clearCredentials(),t.pageTitle="Sign in",t.bodyClass="page page-auth page-login",e.$on("$viewContentLoaded",function(){App.initAjax()})}()}angular.module("app").controller("AuthController",e),e.$inject=["$scope","$rootScope","$location","AuthenticationService"]}(),function(){"use strict";function e(e){function t(){e.bodyClass="page page-dashboard",e.pageTitle="Dashboard"}!function(){t()}()}angular.module("app").controller("DashboardController",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(){e.$on("$includeContentLoaded",function(){Layout.initFooter()})}!function(){t()}()}angular.module("app").controller("FooterController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(){e.$on("$includeContentLoaded",function(){Layout.initHeader()})}!function(){t()}()}angular.module("app").controller("HeaderController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){function t(){e.$on("$includeContentLoaded",function(){Layout.initSidebar()})}!function(){t()}()}angular.module("app").controller("SidebarController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,n,a,i,o){function r(){e.bodyClass="page page-page-edit",e.pageTitle="Edit page",e.showLoadingState(),s(function(){e.hideLoadingState()},function(){e.hideLoadingState()})}function s(e,t){n.get(u.pageId,u.langId,function(t){u.currentObj=t.data.data,e&&e()},function(e){t&&t()})}function l(){e.showLoadingState(),n.update(u.pageId,u.langId,u.currentObj,function(t){s(function(){e.hideLoadingState()},function(){e.hideLoadingState()}),o.showNotification8(t.data.message,"success")},function(t){e.hideLoadingState(),o.showNotification8(t.data.message,"error")})}function c(){setTimeout(function(){return a.go("pageDetails",{id:u.pageId,lang:u.langId})},100)}var u=this;u.updatePageContent=l,u.changeLanguage=c,u.pageId=parseInt(i.id),u.langId=parseInt(i.lang),u.currentObj=null,function(){r(),t.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PageDetailsController",e),e.$inject=["$rootScope","$scope","PageService","$state","$stateParams","MyHelpers"]}(),function(){"use strict";function e(e,t,n,a){function i(t,n){e.showLoadingState(),b.selectedItems={},b.checkedAllItems=!1,a.getAll(t,function(a){t.per_page<1?(b.pages=a.data.data,b.currentPage=1,b.totalItems=b.pages.length,b.lastPage=1):(b.pages=a.data.data.data,b.currentPage=a.data.data.current_page,b.perPage=a.data.data.per_page,b.totalItems=a.data.data.total,b.lastPage=a.data.data.last_page),App.initComponents(),e.hideLoadingState(),n&&n()},function(t){e.hideLoadingState()})}function o(){i({page:b.currentPage,per_page:b.perPage})}function r(){i({page:1,per_page:b.perPage})}function s(e){switch(e){case 0:return'<span class="label label-default">disabled</span>';case 1:return'<span class="label label-success">activated</span>';default:return'<span class="label label-default">disabled</span>'}}function l(e){b.isEditing=!0,b.currentSelectedItem=e,b.fastEditData={global_title:e.global_title,global_slug:e.global_slug}}function c(){b.isEditing=!1,b.currentSelectedItem=null,b.fastEditData={}}function u(){d(b.currentSelectedItem.id,b.fastEditData)}function d(t,o){e.showLoadingState(),a.updateGlobal(t,o,function(e){i({page:b.currentPage,per_page:b.perPage}),b.isEditing=!1,b.currentSelectedItem=null,b.fastEditData={},n.showNotification8(e.data.message,"success")},function(t){e.hideLoadingState(),n.showNotification8(t.data.message,"error")})}function g(t,o){var r={status:o};e.showLoadingState(),a.updateGlobal(t,r,function(e){i({page:b.currentPage,per_page:b.perPage}),n.showNotification8(e.data.message,"success")},function(t){e.hideLoadingState(),n.showNotification8(t.data.message,"error")})}function p(t){e.showLoadingState(),a.deletePage(t,function(e){i({page:b.currentPage,per_page:b.perPage}),n.showNotification8(e.data.message,"success")},function(t){e.hideLoadingState(),n.showNotification8(t.data.message,"error")})}function f(){b.selectedItems=n.multiSelectDataTable(b.checkedAllItems,b.pages,b.selectedItems)}function h(){n.changeSelectDataTable(b.pages,b.selectedItems,function(){b.checkedAllItems=!0},function(){b.checkedAllItems=!1})}function m(){e.showLoadingState(),a.updateGlobal(null,{is_group_action:!0,_group_action:b.drCurrentGroupAction,ids:n.getGroupActionsSelectedIds(b.selectedItems)},function(e){i({page:b.currentPage,per_page:b.perPage}),n.showNotification8(e.data.message,"success")},function(t){n.showNotification8(t.data.message,"error"),e.hideLoadingState()})}var b=this;b.pages=[],b.getStatus=s,b.showUpdateField=l,b.updateStatus=g,b.cancelUpdate=c,b.confirmUpdate=u,b.deletePage=p,b.isEditing=!1,b.currentSelectedItem=null,b.fastEditData={},b.paginationChanged=o,b.perPageChanged=r,b.currentPage=1,b.perPage=10,b.totalItems=0,b.maxSize=3,b.lastPage=1,b.multiSelect=f,b.changeSelect=h,b.handleGroupActions=m,b.selectedItems={},b.checkedAllItems=!1,b.drCurrentGroupAction=null,b.groupActions=[{id:null,text:"Select..."},{id:"disable",text:"Disable these pages"},{id:"active",text:"Active these pages"}],function(){e.bodyClass="page page-pages",e.pageTitle="All pages",i({page:b.currentPage,per_page:b.perPage}),t.$on("$viewContentLoaded",function(){App.initComponents()})}()}angular.module("app").controller("PagesController",e),e.$inject=["$rootScope","$scope","MyHelpers","PageService"]}(),function(){"use strict";function e(){return{restrict:"E",link:function(e,t,n){(n.ngClick||""===n.href||"#"===n.href)&&t.on("click",function(e){e.preventDefault()})}}}angular.module("app").directive("a",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){function i(){if(r.length){var e=r.splice(0,1);s.setData(e[0]||"<span></span>",function(){i(),o=!0})}}var o=!1,r=[],s=CKEDITOR.replace(t[0]);s.on("instanceReady",function(e){a&&i()}),t.bind("$destroy",function(){s.destroy(!1)}),a&&(s.on("change",function(){e.$apply(function(){var e=s.getData();"<span></span>"==e&&(e=null),a.$setViewValue(e)})}),a.$render=function(e){void 0===a.$viewValue&&(a.$setViewValue(null),a.$viewValue=null),r.push(a.$viewValue),o&&(o=!1,i())})}}}function t(){}angular.module("app").directive("ckeditor",e),t.$inject=[]}(),function(){"use strict";function e(){return{restrict:"EA",require:"?ngModel",scope:{drClass:"@",drName:"@",drLabel:"@",drChange:"&",bindModel:"=ngModel"},templateUrl:templatesUrl+"directives/language-list.directive.html",controller:t,controllerAs:"dr",link:function(e,t,n,a){}}}function t(e,t){function n(){t.getAll(function(e){a.languages=e.data.data},function(e){a.languages=[]})}var a=this;a.languages=[],function(){n()}()}angular.module("app").directive("languageList",e),t.$inject=["$scope","LanguageService"]}(),function(){"use strict";function e(){return{restrict:"EA",require:"?ngModel",scope:{drTitle:"@",drButtonTitle:"@",drType:"@",drModel:"=ngModel"},templateUrl:templatesUrl+"directives/media-box.directive.html",controller:t,controllerAs:"dr",link:function(e,t,n,a){}}}function t(e,t,n,a){function i(t,n){t||(t="image"),n||(d.sub=[]),e.showLoadingState(),d.files=[],a.getFiles(t,n,function(t){d.files=t.data,e.hideLoadingState(),setTimeout(function(){g.modal("show")},100)},function(t){d.files=[],e.hideLoadingState()})}function o(e){var t="/theme/admin/images/folder.jpg";if(!e.is_dir)if(r(e.extension)){var n="/";d.sub.length>0&&(n+=d.sub.join("/")+"/"),t="/uploads"+n+e.name}else t="/theme/admin/images/file.png";return t}function r(e){return/(gif|jpg|jpeg|tiff|png)$/i.test(e)}function s(e){var t="Folder: "+e.name;return e.is_dir||(t=e.name),t}function l(e,t){if(e.is_dir){var n="";return d.sub.push(e.name),d.sub.length>0&&(n+=d.sub.join("/")+""),i(t,n)}var a=e.active;angular.forEach(d.files,function(e,t){e.active=!1});var o="/uploads/"+e.name;return d.sub.length>0&&(o="/uploads/"+d.sub.join("/")+"/"+e.name),d.selectedItem=o,a?(d.selectedItem="",e.active=!1):e.active=!0}function c(e){d.sub.splice(-1,1);var t="";return d.sub.length>0&&(t+=d.sub.join("/")+""),i(e,t)}function u(){t.drModel=d.selectedItem,g.modal("hide")}var d=this;d.getFiles=i,d.getItemThumbnail=o,d.getItemTitle=s,d.toggleActive=l,d.upToParentFolder=c,d.selectMedia=u,d.files=[],d.sub=[],d.selectedItem="";var g=n.find(".modal")}angular.module("app").directive("mediaBox",e),t.$inject=["$rootScope","$scope","$element","FileService"]}(),function(){"use strict";function e(){return{restrict:"A",transclude:!0,scope:{drTotalItems:"=",drItemsPerPage:"=",drCurrentPage:"=",drMaxSize:"=",drPaginationChanged:"&",drPerPageChanged:"&",drSelectedItems:"=",drGroupActions:"=",drCurrentGroupAction:"=",drHandleGroupActions:"&"},link:function(e,t,n,a){},templateUrl:templatesUrl+"directives/my-data-table.directive.html",controller:t,controllerAs:"dr"}}function t(e,t){function n(){setTimeout(function(){e.drPaginationChanged()},100)}function a(){setTimeout(function(){e.drPaginationChanged()},100)}function i(){setTimeout(function(){e.drHandleGroupActions()},100)}var o=this;o.countSelected=t.countSelected,o.onPaginationChanged=n,o.onPerPageChanged=a,o.handleGroupActions=i}angular.module("app").directive("myDataTable",e),t.$inject=["$scope","MyHelpers"]}(),function(){"use strict";function e(e){return{restrict:"EA",template:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>',link:function(t,n,a){e.$on("$stateChangeStart",function(){e.settings.layout.loading=!0}),e.$on("$stateChangeSuccess",function(){e.settings.layout.loading=!1,App.scrollTop()}),e.$on("$stateNotFound",function(){e.settings.layout.loading=!1}),e.$on("$stateChangeError",function(){e.settings.layout.loading=!1})}}}angular.module("app").directive("spinnerBar",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&1==e[t]&&n++;return n}function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&1==e[n]&&t.push(parseInt(n));return t}function a(e,n,a,i){e.length==t(n)?a():i()}function i(e,t,n){if(e){for(var a={},i=0;i<t.length;i++){var o=t[i].id;a[o]=!0}n=a}else n={};return n}function o(e,t){switch(t){case"success":t="lime";break;case"info":t="teal";break;case"warning":t="tangerine";break;case"danger":t="ruby";break;case"error":t="ruby";break;default:t="ebony"}$.notific8("zindex",11500),e instanceof Array?e.forEach(function(e){$.notific8($.trim(e),{theme:t,sticky:!1,horizontalEdge:"top",verticalEdge:"right"})}):$.notific8($.trim(e),{theme:t,sticky:!1,horizontalEdge:"top",verticalEdge:"right"})}var r={};return r.countSelected=t,r.getGroupActionsSelectedIds=n,r.changeSelectDataTable=a,r.multiSelectDataTable=i,r.showNotification8=o,r}angular.module("app").factory("MyHelpers",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(){var t={layout:{loading:!0,isLogin:!0},url:{baseUrl:baseUrl,assetsUrl:assetsUrl,templatesUrl:templatesUrl,viewsUrl:viewsUrl,baseApi:baseApi}};e.settings=t}var n={};return n.defineSettings=t,n}angular.module("app").factory("SettingsFactory",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(t,n,a,i){return n||(n=null),t||(n="image"),e.post(baseApi+"files",{sub:n,type:t}).then(a,i)}var n={};return n.getFiles=t,n}angular.module("app").factory("FileService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,n){return e.get(baseApi+"languages").then(t,n)}var n={};return n.getAll=t,n}angular.module("app").factory("LanguageService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,n,a){return e.get(baseApi+"pages",{params:t||{}}).then(n,a)}function n(t,n,a,i){return e.get(baseApi+"pages/details/"+t+"/"+n).then(a,i)}function a(t,n,a,i){return t&&!isNaN(parseFloat(t))&&isFinite(t)?e.post(baseApi+"pages/edit-global/"+t,n).then(a,i):e.post(baseApi+"pages/edit-global",n).then(a,i)}function i(t,n,a,i,o){return e.post(baseApi+"pages/edit/"+t+"/"+n,a).then(i,o)}function o(t,n,a){return e["delete"](baseApi+"pages/delete/"+t).then(n,a)}var r={};return r.getAll=t,r.get=n,r.updateGlobal=a,r.update=i,r.deletePage=o,r}angular.module("app").factory("PageService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,n){return e.get(baseApi+"settings").then(t,n)}var n={};return n.getAll=t,n}angular.module("app").factory("SettingService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,n){return e.get(baseApi+"users").then(t,n)}function n(t,n,a,i){return e.post(baseApi+"users/authenticate",{email:t,password:n}).then(a,i)}var a={};return a.getAll=t,a.authUser=n,a}angular.module("app").factory("UserService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,n,a,i){function o(e,t,n,a){return i.authUser(e,t,n,a)}function r(i,o){var r=t.encode(i+":"+o);a.globals={currentUser:{email:i,authData:r}},e.defaults.headers.common.Authorization="Basic "+r,n.put("globals",a.globals),a.settings.layout.isLogin=!1}function s(){a.globals={},n.remove("globals"),e.defaults.headers.common.Authorization="Basic",a.settings.layout.isLogin=!0}var l={};return l.login=o,l.setCredentials=r,l.clearCredentials=s,l}angular.module("app").factory("AuthenticationService",e),e.$inject=["$http","$cookieStore","$rootScope","UserService"];var t={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,i,o,r="",s="",l="",c=0;do t=e.charCodeAt(c++),n=e.charCodeAt(c++),s=e.charCodeAt(c++),a=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),r=r+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(o)+this.keyStr.charAt(l),t=n=s="",a=i=o=l="";while(c<e.length);return r},decode:function(e){var t,n,a,i,o,r="",s="",l="",c=0,u=/[^A-Za-z0-9\+\/\=]/g;u.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do a=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),l=this.keyStr.indexOf(e.charAt(c++)),t=a<<2|i>>4,n=(15&i)<<4|o>>2,s=(3&o)<<6|l,r+=String.fromCharCode(t),64!=o&&(r+=String.fromCharCode(n)),64!=l&&(r+=String.fromCharCode(s)),t=n=s="",a=i=o=l="";while(c<e.length);return r}}}();